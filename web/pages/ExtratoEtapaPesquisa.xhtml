<html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:h="http://xmlns.jcp.org/jsf/html"
      xmlns:f="http://java.sun.com/jsf/core"
      xmlns:p="http://primefaces.org/ui"
      xmlns:ui="http://xmlns.jcp.org/jsf/facelets">
    <ui:composition template="/templates/modeloGeral.xhtml">

        <ui:define name="metaData">
            <f:metadata>
                <f:event listener="#{extratoEdicaoBean.listar()}" type="preRenderView"/>
            </f:metadata>
        </ui:define>
        <ui:define name="conteudo">
            <h:form id="extPes">
                <p:toolbar>
                    <f:facet name="left">

                        <p:outputLabel value="Extrato da edição, #{selecionarEtapaBean.etapaSelecionada.edicao} - #{selecionarEtapaBean.etapaSelecionada.dataEdicao}"/>
                        
priscila.garrido@zcr.com.br

                    </f:facet>
                    <f:facet name="right">
                        <h:panelGrid columns="5">
                            <h:commandLink>
                                <img src="../resources/imagens/pdf-logo.png" style="width: 25px; height: 25px"/>
                                <p:dataExporter type="pdf" target="tblExtrato" fileName="EXTRATO DA EDIÇÃO, #{selecionarEtapaBean.etapaSelecionada.edicao} - #{selecionarEtapaBean.etapaSelecionada.dataEdicao}" encoding="ISO-8859-1"/>
                            </h:commandLink>
                            <i class="pi pi-ellipsis-v" style="color: #0099ff"/>
                            <h:commandLink>
                                <img src="../resources/imagens/excel-logo.png" style="width: 30px; height: 30px"/>
                                <p:dataExporter type="xls" target="tblExtrato" fileName="EXTRATO DA EDIÇÃO, #{selecionarEtapaBean.etapaSelecionada.edicao} - #{selecionarEtapaBean.etapaSelecionada.dataEdicao}" />
                            </h:commandLink>
                        </h:panelGrid>
                    </f:facet>


                </p:toolbar>

                <p:dataTable id="tblExtrato" emptyMessage="Nenhuma transação encontrada" value="#{extratoEdicaoBean.listaExtrato}" var="extrato">
                    <p:column headerText="Descrição">
                        <h:outputLabel value="#{extrato.descricao}"/>
                    </p:column>

                    <p:column headerText="Data da transação">
                        <h:outputLabel value="#{extrato.dataTransacao}"/>
                    </p:column>

                    <p:column headerText="Usuário">
                        <h:outputLabel value="#{extrato.usuario.nome}"/>
                    </p:column>

                    <p:column headerText="Tipo" width="5%">
                        <h:outputLabel value="#{extrato.tipo}" style="#{extrato.tipo == 'C' ? 'color: #1E90FF':'color: red'}"/>
                    </p:column>

                    <p:column headerText="Valor">
                        <h:outputLabel value="#{extrato.valor}" style="#{extrato.valor >= 0 ? 'color: #1E90FF':'color: red'}"/>
                    </p:column>




                </p:dataTable>
            </h:form>
        </ui:define>
    </ui:composition>
</html>
